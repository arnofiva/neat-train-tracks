!function(){"use strict";function n(n,r,e){var o=r.x,i=r.y,t=r.z,f=e.x-o,u=e.y-i,d=e.z-t;if(0!==f||0!==u||0!==d){var y=((n.x-o)*f+(n.y-i)*u+(n.z-t)*d)/(f*f+u*u+d*d);y>1?(o=e.x,i=e.y,t=e.z):y>0&&(o+=f*y,i+=u*y,t+=d*y)}return(f=n.x-o)*f+(u=n.y-i)*u+(d=n.z-t)*d}function r(r,e,o){var i=void 0!==e?e*e:1;return function(r,e){var o,i,t,f,u=r.length,d=new("undefined"!=typeof Uint8Array?Uint8Array:Array)(u),y=0,p=u-1,a=[],v=[];for(d[y]=d[p]=1;p;){for(i=0,o=y+1;o<p;o++)(t=n(r[o],r[y],r[p]))>i&&(f=o,i=t);i>e&&(d[f]=1,a.push(y,f,f,p)),p=a.pop(),y=a.pop()}for(o=0;o<u;o++)d[o]&&v.push(r[o]);return v}(r=o?r:function(n,r){for(var e,o,i,t,f,u,d=n[0],y=[d],p=1,a=n.length;p<a;p++)i=d,void 0,void 0,void 0,(t=(o=e=n[p]).x-i.x)*t+(f=o.y-i.y)*f+(u=o.z-i.z)*u>r&&(y.push(e),d=e);return d!==e&&y.push(e),y}(r,i),i)}"undefined"!=typeof module?module.exports=r:"function"==typeof define&&define.amd?define((function(){return r})):window.simplify=r}();