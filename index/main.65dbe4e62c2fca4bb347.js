/*! For license information please see main.65dbe4e62c2fca4bb347.js.LICENSE.txt */
define(["esri/Camera","esri/Color","esri/Map","esri/core/Accessor","esri/core/accessorSupport/decorators","esri/core/promiseUtils","esri/geometry","esri/geometry/Point","esri/layers/FeatureLayer","esri/layers/GraphicsLayer","esri/layers/TileLayer","esri/layers/VectorTileLayer","esri/layers/support/LabelClass","esri/renderers","esri/symbols","esri/symbols/IconSymbol3DLayer","esri/views/SceneView","esri/widgets/ElevationProfile","esri/widgets/Widget","esri/widgets/support/widget"],((t,e,r,o,n,i,a,s,c,l,u,p,f,d,h,y,v,_,w,m)=>(()=>{var b={432:(t,e,r)=>{"use strict";r.r(e)},419:(t,e,r)=>{var o,n;o=[r,e,r(655),r(843),r(764),r(325),r(433),r(24)],void 0===(n=function(t,e,r,o,n,i,a,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i=r.__importDefault(i),s=r.__importDefault(s);var c=function(t){function e(e){var r=t.call(this,e)||this;return r.cameraTracking=!0,r.running=!1,r}return r.__extends(e,t),e.prototype.postInitialize=function(){var t=this;[this.profiles.fastEP,this.profiles.slowEP].forEach((function(e){e.viewModel.watch("hoveredChartPosition",(function(){return t.updateTimeDistance()}))})),a.scene.view.watch("interacting",(function(){a.scene.view.interacting&&(t.stop(),t.cameraTracking=!1)})),this.profiles.watch("section",(function(){t.running=!1,t.cameraTracking=!0,t.profiles.activeEP.viewModel.hoveredChartPosition=void 0})),this.profiles.watch("showNew",(function(){t.running=!1}))},e.prototype.stop=function(){this.running=!1},e.prototype.play=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,o,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:if(this.running=!0,!(t=this.profiles.section.startCam))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,a.scene.view.goTo(t)];case 2:return r.sent(),[3,4];case 3:return r.sent(),this.running=!1,[3,4];case 4:return o=function(t){if(n.running){void 0===e&&(e=t);var r=Math.min(1,Math.max(0,(t-e)/1e4));n.profiles.activeEP.viewModel.hoveredChartPosition=r,r<1?requestAnimationFrame(o):n.running=!1}},this.cameraTracking=!0,requestAnimationFrame(o),[2]}}))}))},e.prototype.render=function(){var t=this;return n.tsx("div",{class:"animation interactive"},this.running?n.tsx("button",{class:"btn btn-small",onclick:function(){return t.stop()}},n.tsx("span",{class:"icon-ui-pause"})):n.tsx("button",{class:"btn btn-small",onclick:function(){return t.play()}},n.tsx("span",{class:"icon-ui-play"})))},e.prototype.updateTimeDistance=function(){var t=this.profiles.activeEP,e=this.profiles.inactiveEP,r=this.profiles.section,o=t.viewModel.hoveredChartPosition;if(o){var n=r.startCam,i=r.endCam;if(this.cameraTracking&&n&&i){var c=s.default(n,i,o);a.scene.view.goTo(c,{speedFactor:2,easing:"linear"})}var l=r.fastTime/r.slowTime,u=Math.min(1,Math.max(0,this.profiles.showNew?o*l:o/l));e.viewModel.hoveredChartPosition=u}else e.viewModel.hoveredChartPosition=o},r.__decorate([o.property()],e.prototype,"profiles",void 0),r.__decorate([o.property()],e.prototype,"cameraTracking",void 0),r.__decorate([o.property()],e.prototype,"running",void 0),r.__decorate([o.subclass("app.animation")],e)}(i.default);e.default=c}.apply(e,o))||(t.exports=n)},584:(t,e,r)=>{var o,n;o=[r,e,r(655),r(325),r(843),r(764),r(573),r(433),r(153),r(330),r(604),r(341),r(419)],void 0===(n=function(t,e,r,o,n,i,a,s,c,l,u,p,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),a=r.__importDefault(a),p=r.__importDefault(p),f=r.__importDefault(f);var d=function(t){function e(e){var o=t.call(this,e)||this;return o.scene=s.scene,o.updateProfiles=c.debounce((function(){return r.__awaiter(o,void 0,void 0,(function(){var t,e,o;return r.__generator(this,(function(r){switch(r.label){case 0:return u.tracks2D.removeAll(),u.tracks3D.removeAll(),t=this.tracks.inactiveSection(this.trackProfiles.section,!this.trackProfiles.showNew),u.tracks2D.addMany(t.map((function(t){return t.clone()}))),u.tracks3D.addMany(t),o=(e=Promise).all,[4,this.scene.highlightTracks3D(this.trackProfiles.showNew?l.slowColorFaded:l.fastColorFaded)];case 1:return[4,o.apply(e,[[r.sent()]])];case 2:return r.sent(),[2]}}))}))})),o}return r.__extends(e,t),e.prototype.postInitialize=function(){var t=this;this.trackProfiles=new a.default({tracks:this.tracks}),this.timeDistance=new p.default({profile:this.trackProfiles}),this.animation=new f.default({profiles:this.trackProfiles}),window.addEventListener("resize",(function(e){t.evaluateLayout()})),document.addEventListener("keydown",(function(e){return r.__awaiter(t,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return" "!==e.key?[3,1]:(this.trackProfiles.trackSelector.showNew=!this.trackProfiles.trackSelector.showNew,[3,3]);case 1:return t=Number.parseInt(e.key),[4,this.selectSection(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))})),this.trackProfiles.trackSelector.watch("showNew",(function(){t.updateProfiles()})),this.trackProfiles.sectionSelector.watch("section",(function(e){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.updateProfiles()];case 1:return t.sent(),this.scene.view.goTo(e.camera),[2]}}))}))})),this.evaluateLayout(),this.updateProfiles()},e.prototype.render=function(){var t=this.trackProfiles.render(),e=this.timeDistance.render(),r=this.trackProfiles.trackSelector.render(),o=this.trackProfiles.sectionSelector.render(),n=this.animation.render();return i.tsx("div",null,i.tsx("div",{class:"wrapper"},i.tsx("div",{class:"grid-container"},i.tsx("div",{class:"column-24 tablet-column-9 phone-column-6"},i.tsx("h1",null,"Zurich - Milan by Train"),i.tsx("div",{class:"column-6 tablet-column-3 phone-column-4"},r),i.tsx("div",{class:"pre-12 column-6 tablet-column-6 phone-column-2 text-right"},"tablet"!==this.layout?e:i.tsx("div",null))),i.tsx("div",{class:"column-24 tablet-column-3 phone-column-6 text-right"},"tablet"===this.layout?e:i.tsx("div",null)))),i.tsx("div",{class:"footer"},i.tsx("div",{class:"grid-container"},i.tsx("div",{class:"column-4 tablet-column-2 phone-column-1"},n),i.tsx("div",{class:"column-20 tablet-column-10 phone-column-5"},o))),t)},e.prototype.selectSection=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){return 0<=t&&t<=3&&(e=l.Section.fromIndex(t),this.trackProfiles.section=e),[2]}))}))},e.prototype.bindTopPadding=function(t){console.log("Bind",{e:t})},e.prototype.evaluateLayout=function(){var t=window.innerWidth;860<=t?(this.layout="desktop",this.scene.view.padding={top:0,left:0,right:0,bottom:200}):480<=t?(this.layout="tablet",this.scene.view.padding={top:60,left:0,right:0,bottom:200}):(this.layout="phone",this.scene.view.padding={top:60,left:0,right:0,bottom:200})},r.__decorate([n.property()],e.prototype,"tracks",void 0),r.__decorate([n.property()],e.prototype,"trackProfiles",void 0),r.__decorate([n.property()],e.prototype,"timeDistance",void 0),r.__decorate([n.property()],e.prototype,"animation",void 0),r.__decorate([n.property()],e.prototype,"scene",void 0),r.__decorate([n.property()],e.prototype,"layout",void 0),r.__decorate([n.subclass("app")],e)}(o);e.default=d}.apply(e,o))||(t.exports=n)},433:(t,e,r)=>{var o,n;o=[r,e,r(655),r(843),r(815),r(254),r(604),r(330),r(806),r(944)],void 0===(n=function(t,e,r,o,n,i,a,s,c,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scene=void 0,n=r.__importDefault(n);var u=new i({ground:"world-elevation",layers:[a.countries,a.hillshade,a.water,a.pois,a.tracks2D,a.tracks3D]});u.ground.surfaceColor=new l("#5D5D5D");var p=new n.default({container:"viewDiv",map:u,camera:s.Section.ALL.camera,environment:{background:{type:"color",color:[20,20,20]},atmosphereEnabled:!1,starsEnabled:!1},highlightOptions:{fillOpacity:1,haloOpacity:0}});p.ui.remove(["navigation-toggle","compass","zoom"]);var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.view=p,e.clearHighlight=function(){},e}return r.__extends(e,t),e.prototype.highlightTracks3D=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return this.clearHighlight(),p.highlightOptions.color=t,[4,p.whenLayerView(a.tracks3D)];case 1:return e=r.sent(),this.clearHighlight=e.highlight(a.tracks3D.graphics.toArray()).remove,[2]}}))}))},r.__decorate([o.property()],e.prototype,"view",void 0),e}(c);e.scene=new f}.apply(e,o))||(t.exports=n)},716:(t,e,r)=>{var o,n;o=[r,e,r(655),r(843),r(764),r(325),r(330)],void 0===(n=function(t,e,r,o,n,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.section=a.Section.ALL,e}return r.__extends(e,t),e.prototype.render=function(){var t=this,e=[a.Section.ALL,a.Section.ZIMMERBERG,a.Section.GOTTHARD,a.Section.CENERI].map((function(e){var r="btn btn-small "+(t.section===e?"active":"")+" "+e.label.toLowerCase();return n.tsx("button",{onclick:function(){return t.selectSection(e)},class:r},e.label," (",e.year,")")}));return n.tsx("div",{class:"track-sections interactive"},e)},e.prototype.selectSection=function(t){this.section===t?this.section=a.Section.ALL:this.section=t},r.__decorate([o.property()],e.prototype,"section",void 0),r.__decorate([o.subclass("app.sectionselector")],e)}((i=r.__importDefault(i)).default);e.default=s}.apply(e,o))||(t.exports=n)},341:(t,e,r)=>{var o,n;o=[r,e,r(655),r(843),r(764),r(325)],void 0===(n=function(t,e,r,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){return t.call(this,e)||this}return r.__extends(e,t),e.prototype.render=function(){var t=this.profile.time,e=t%60,r=Math.floor(t/60);return n.tsx("div",{class:"time-distance"},n.tsx("h4",null,"Travel Time"),n.tsx("span",null,r?r+"h ":"",e,"min"),n.tsx("h4",null,"Distance"),n.tsx("span",null,this.profile.distance.toFixed(1),"km"))},r.__decorate([o.property()],e.prototype,"profile",void 0),r.__decorate([o.subclass("app.timedistance")],e)}((i=r.__importDefault(i)).default);e.default=a}.apply(e,o))||(t.exports=n)},573:(t,e,r)=>{var o,n;o=[r,e,r(655),r(843),r(303),r(325),r(330),r(433),r(764),r(333),r(716)],void 0===(n=function(t,e,r,o,n,i,a,s,c,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n=r.__importDefault(n),i=r.__importDefault(i),l=r.__importDefault(l),u=r.__importDefault(u);var p=s.scene.view,f={legend:!1,chart:!0,clearButton:!1,settingsButton:!1,sketchButton:!1,selectButton:!1,uniformChartScalingToggle:!1};function d(t){var e=new n.default({view:p,profiles:[{type:"input",viewVisualizationEnabled:!0,color:t},{type:"ground",viewVisualizationEnabled:!1,color:a.elevationColor}],visibleElements:f});return e.viewModel.highlightEnabled=!1,window.ep=e,e}var h=function(t){function e(e){var r=t.call(this,e)||this;return r.trackSelector=new l.default,r.sectionSelector=new u.default,r.slowEP=d(a.slowColor),r.fastEP=d(a.fastColor),r}return r.__extends(e,t),Object.defineProperty(e.prototype,"activeEP",{get:function(){return this.showNew?this.fastEP:this.slowEP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inactiveEP",{get:function(){return this.showNew?this.slowEP:this.fastEP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){return this.showNew?this.section.fastTime:this.section.slowTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){var t=this.activeEP.viewModel.profiles.find((function(t){return"input"===t.type}));return t.statistics?t.statistics.maxDistance:0},enumerable:!1,configurable:!0}),e.prototype.postInitialize=function(){var t=this;[this.fastEP,this.slowEP].forEach((function(t){t.watch("_chart",(function(t){t&&(t.amChart.cursor.behavior="none")}))})),this.watch(["section","showNew"],(function(){return t.updateProfiles()})),this.updateProfiles()},e.prototype.render=function(){return c.tsx("div",{class:"profile interactive"},this.activeEP.render())},e.prototype.updateProfiles=function(){var t=this.showNew;this.slowEP.input=this.tracks.activeRoute(this.section,!1),this.fastEP.input=this.tracks.activeRoute(this.section,!0),this.slowEP.profiles.forEach((function(e){e.viewVisualizationEnabled=!t})),this.fastEP.profiles.forEach((function(e){e.viewVisualizationEnabled=t}))},r.__decorate([o.property()],e.prototype,"tracks",void 0),r.__decorate([o.property()],e.prototype,"trackSelector",void 0),r.__decorate([o.property({aliasOf:"trackSelector.showNew"})],e.prototype,"showNew",void 0),r.__decorate([o.property()],e.prototype,"sectionSelector",void 0),r.__decorate([o.property({aliasOf:"sectionSelector.section"})],e.prototype,"section",void 0),r.__decorate([o.property()],e.prototype,"slowEP",void 0),r.__decorate([o.property()],e.prototype,"fastEP",void 0),r.__decorate([o.property()],e.prototype,"activeEP",null),r.__decorate([o.property()],e.prototype,"inactiveEP",null),r.__decorate([o.property()],e.prototype,"time",null),r.__decorate([o.property()],e.prototype,"distance",null),r.__decorate([o.subclass("app.trackprofiles")],e)}(i.default);e.default=h}.apply(e,o))||(t.exports=n)},333:(t,e,r)=>{var o,n;o=[r,e,r(655),r(843),r(764),r(325)],void 0===(n=function(t,e,r,o,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showNew=!0,e}return r.__extends(e,t),e.prototype.render=function(){var t=this,e="btn fast "+(this.showNew?"active":""),r="btn slow "+(this.showNew?"":"active");return n.tsx("div",{class:"track-selector interactive"},n.tsx("button",{class:e,onclick:function(){return t.showNew=!0}},"New Track"),n.tsx("button",{class:r,onclick:function(){return t.showNew=!1}},"Old Track"))},r.__decorate([o.property()],e.prototype,"showNew",void 0),r.__decorate([o.subclass("app.trackselector")],e)}((i=r.__importDefault(i)).default);e.default=a}.apply(e,o))||(t.exports=n)},546:(t,e,r)=>{var o,n;o=[r,e,r(655),r(806),r(843),r(242),r(330),r(604)],void 0===(n=function(t,e,r,o,n,i,a,s){"use strict";function c(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,s.tracksLayer.load()];case 1:return e.sent(),(t=s.tracksLayer.createQuery()).returnGeometry=!0,t.returnZ=!0,t.orderByFields=["PathIndex"],[4,s.tracksLayer.queryFeatures(t)];case 2:return[2,e.sent().features]}}))}))}function l(t){return t.reduce((function(t,e){return t?(o=e,n=(r=t).geometry.paths[0].concat(o.geometry.paths[0]),(a=r.clone()).geometry=new i.Polyline({spatialReference:r.geometry.spatialReference,paths:[n]}),a):e;var r,o,n,a}))}function u(t,e,r){return void 0===r&&(r=!0),r?t.filter((function(t){return t.getAttribute("Membership")===e})):t.filter((function(t){return t.getAttribute("Membership")!==e}))}function p(t,e){return e===a.Section.ALL?t:t.filter((function(t){return t.getAttribute("TrackSection")===e.label}))}Object.defineProperty(e,"__esModule",{value:!0});var f=function(t){function e(e){return t.call(this,e)||this}var o;return r.__extends(e,t),o=e,e.load=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,a;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,c()];case 1:return t=r.sent(),e=u(t,"NEAT",!1),n=u(t,"Old",!1),i=u(t,"Old"),a=u(t,"NEAT"),[2,new o({slowTracks:e,fastTracks:n,oldTracks:i,neatTracks:a})]}}))}))},e.prototype.activeSection=function(t,e){return p(e?this.fastTracks:this.slowTracks,t)},e.prototype.activeRoute=function(t,e){return l(this.activeSection(t,e))},e.prototype.inactiveSection=function(t,e){return p(e?this.neatTracks:this.oldTracks,t)},e.prototype.inactiveRoute=function(t,e){return l(this.inactiveSection(t,e))},r.__decorate([n.property()],e.prototype,"fastTracks",void 0),r.__decorate([n.property()],e.prototype,"slowTracks",void 0),r.__decorate([n.property()],e.prototype,"oldTracks",void 0),r.__decorate([n.property()],e.prototype,"neatTracks",void 0),o=r.__decorate([n.subclass("tracks")],e)}((o=r.__importDefault(o)).default);e.default=f}.apply(e,o))||(t.exports=n)},330:(t,e,r)=>{var o,n;o=[r,e,r(655),r(601),r(944)],void 0===(n=function(t,e,r,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Section=e.fastColor=e.fastColorFaded=e.slowColorFaded=e.slowColor=e.elevationColor=void 0,o=r.__importDefault(o),n=r.__importDefault(n),e.elevationColor=new n.default("#FFFFFF"),e.elevationColor.a=.5,e.slowColor=new n.default("#ff7d00"),e.slowColorFaded=new n.default("#9b5c20"),e.fastColorFaded=new n.default("#007f00"),e.fastColor=new n.default("#11dd00");var i=function(){function t(t,e,r,o,n,i,a){this.label=t,this.year=e,this.slowTime=r,this.fastTime=o,this.camera=n,this.startCam=i,this.endCam=a}return t.fromIndex=function(t){switch(t){case 1:return this.ZIMMERBERG;case 2:return this.GOTTHARD;case 3:return this.CENERI;default:return this.ALL}},t.ALL=new t("All",2020,262,197,new o.default({position:{longitude:7.0337771,latitude:45.12086495,z:159916.61637},heading:48.74,tilt:51.89}),new o.default({position:{longitude:7.18997109,latitude:45.92987682,z:201836.98005},heading:30.13,tilt:37.54}),new o.default({position:{longitude:7.20718085,latitude:46.02959863,z:209488.10173},heading:89.05,tilt:34.49})),t.ZIMMERBERG=new t("Zimmerberg",2002,30,27,new o.default({position:{longitude:8.24264653,latitude:47.53887505,z:18472.11098},heading:140.05,tilt:63.2}),new o.default({position:{longitude:8.46550426,latitude:47.46465694,z:3860.20457},heading:157.15,tilt:75.24}),new o.default({position:{longitude:8.38952282,latitude:47.14397143,z:4818.37549},heading:67.77,tilt:68.89})),t.GOTTHARD=new t("Gotthard",2016,72,112,new o.default({position:{longitude:7.61486774,latitude:47.73892,z:50343.47143},heading:142.87,tilt:68.45}),new o.default({position:{longitude:8.15157539,latitude:47.33561923,z:9190.3283},heading:138.24,tilt:76.05}),new o.default({position:{longitude:8.85945086,latitude:46.45718618,z:9750.45963},heading:165.51,tilt:74.57})),t.CENERI=new t("Ceneri",2020,34,14,new o.default({position:{longitude:8.96950104,latitude:46.44303121,z:19888.17991},heading:178.81,tilt:61.68}),new o.default({position:{longitude:9.04456304,latitude:46.33253886,z:8613.94608},heading:190.9,tilt:65.89}),new o.default({position:{longitude:8.88002108,latitude:46.11574327,z:3929.85347},heading:160.46,tilt:73.37})),t}();e.Section=i}.apply(e,o))||(t.exports=n)},604:(t,e,r)=>{var o,n;o=[r,e,r(655),r(37),r(121),r(470),r(594),r(918),r(290),r(351),r(830)],void 0===(n=function(t,e,r,o,n,i,a,s,c,l,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tracks2D=e.tracks3D=e.tracksLayer=e.countries=e.pois=e.water=e.hillshade=void 0,o=r.__importDefault(o),n=r.__importDefault(n),i=r.__importDefault(i),a=r.__importDefault(a),s=r.__importDefault(s),u=r.__importDefault(u),e.hillshade=new a.default({portalItem:{id:"428539ef9cab4017b69d15a40a9ee98b"}}),e.water=new s.default({portalItem:{id:"cd266578c33f4724acb93b9fff57cbb6"}}),e.pois=new o.default({visible:!0,portalItem:{id:"7ad19e912ce84d138ca6544610fa9643"},renderer:new c.SimpleRenderer({symbol:new l.PointSymbol3D({symbolLayers:[new u.default({material:{color:[255,255,255]},size:1.5,resource:{primitive:"circle"}})],callout:{type:"line",size:1.5,color:[255,255,255]},verticalOffset:{screenLength:80,maxWorldLength:2e3,minWorldLength:300}})}),labelingInfo:[new i.default({labelExpressionInfo:{expression:"$feature.Label"},symbol:new l.LabelSymbol3D({symbolLayers:[new l.TextSymbol3DLayer({material:{color:[255,255,255]},size:12})]})})]}),e.countries=new o.default({portalItem:{id:"ac80670eb213440ea5899bbf92a04998"},popupEnabled:!1,definitionExpression:"Country in ('Switzerland')",renderer:new c.SimpleRenderer({symbol:new l.PolygonSymbol3D({symbolLayers:[new l.FillSymbol3DLayer({outline:{color:[180,180,180],size:1.5}})]})})}),e.tracksLayer=new o.default({portalItem:{id:"286dc8def578416cb3c8f0a773b86c19"}}),e.tracks3D=new n.default({title:"3D Tracks",elevationInfo:{mode:"absolute-height"}}),e.tracks2D=new n.default({title:"2D Tracks",elevationInfo:{mode:"on-the-ground"},opacity:.5,visible:!1})}.apply(e,o))||(t.exports=n)},24:(t,e,r)=>{var o,n;o=[r,e,r(655),r(601),r(570)],void 0===(n=function(t,e,r,o,n){"use strict";o=r.__importDefault(o),n=r.__importDefault(n);var i=function(t,e,r,o,n){return o||(o=1),t+function(t,e,r){var o=e-t;return r&&(o>r/2?o-=r:o<-r/2&&(o+=r)),o}(t,e,n)*(r/o)},a=function(t,e,r,s,c){if(t.declaredClass&&t.declaredClass===e.declaredClass){if("esri.Camera"===t.declaredClass){var l=t,u=e,p=i(l.heading,u.heading,r,s,360);return new o.default({heading:p,position:a(l.position,u.position,r,s),tilt:i(l.tilt,u.tilt,r,s)})}if("esri.geometry.Point"===t.declaredClass){var f=t,d=e,h=f.spatialReference;return new n.default({spatialReference:h,x:i(f.x,d.x,r,s,c),y:i(f.y,d.y,r,s,c),z:i(f.z,d.z,r,s,c)})}}throw new Error("Values a and b do not have compatible types for interpolation")},s=function(t){return t&&"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t)},c=function(t,e,r,o,n){var l=typeof t;if(typeof e===l){if("number"===l)return i(t,e,r,o,n);if("object"===l)return Array.isArray(t)&&Array.isArray(e)?function(t,e,r,o,n){if(t.length===e.length)return t.map((function(t,i){return c(t,e[i],r,o,n)}));throw new Error("Value arrays must have same length for interpolation")}(t,e,r,o,n):s(t)&&s(e)?function(t,e,r,o){var n=t.getTime(),a=e.getTime();return new Date(i(n,a,r,o))}(t,e,r,o):a(t,e,r,o);if(void 0===t)return t}throw new Error("Values a and b do not have compatible types for interpolation")};return c}.apply(e,o))||(t.exports=n)},297:(t,e,r)=>{var o,n;o=[r,e,r(655),r(584),r(546)],void 0===(n=function(t,e,r,o,n){"use strict";o=r.__importDefault(o),(n=r.__importDefault(n)).default.load().then((function(t){new o.default({tracks:t,container:"app"})}))}.apply(e,o))||(t.exports=n)},655:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__extends:()=>n,__assign:()=>i,__rest:()=>a,__decorate:()=>s,__param:()=>c,__metadata:()=>l,__awaiter:()=>u,__generator:()=>p,__createBinding:()=>f,__exportStar:()=>d,__values:()=>h,__read:()=>y,__spread:()=>v,__spreadArrays:()=>_,__spreadArray:()=>w,__await:()=>m,__asyncGenerator:()=>b,__asyncDelegator:()=>g,__asyncValues:()=>x,__makeTemplateObject:()=>P,__importStar:()=>E,__importDefault:()=>S,__classPrivateFieldGet:()=>D,__classPrivateFieldSet:()=>T});var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var i=function(){return(i=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function a(t,e){var r={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(r[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(r[o[n]]=t[o[n]])}return r}function s(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a}function c(t,e){return function(r,o){e(r,o,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,r,o){return new(r||(r=Promise))((function(n,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))}function p(t,e){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var f=Object.create?function(t,e,r,o){void 0===o&&(o=r),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,o){void 0===o&&(o=r),t[o]=e[r]};function d(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||f(e,t,r)}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],o=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var o,n,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function _(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var o=Array(t),n=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,n++)o[n]=i[a];return o}function w(t,e,r){if(r||2===arguments.length)for(var o,n=0,i=e.length;n<i;n++)!o&&n in e||(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function b(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(t,e||[]),i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(t){n[t]&&(o[t]=function(e){return new Promise((function(r,o){i.push([t,e,r,o])>1||s(t,e)}))})}function s(t,e){try{(r=n[t](e)).value instanceof m?Promise.resolve(r.value.v).then(c,l):u(i[0][2],r)}catch(t){u(i[0][3],t)}var r}function c(t){s("next",t)}function l(t){s("throw",t)}function u(t,e){t(e),i.shift(),i.length&&s(i[0][0],i[0][1])}}function g(t){var e,r;return e={},o("next"),o("throw",(function(t){throw t})),o("return"),e[Symbol.iterator]=function(){return this},e;function o(o,n){e[o]=t[o]?function(e){return(r=!r)?{value:m(t[o](e)),done:"return"===o}:n?n(e):e}:n}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=h(t),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(r){e[r]=t[r]&&function(e){return new Promise((function(o,n){!function(t,e,r,o){Promise.resolve(o).then((function(e){t({value:e,done:r})}),e)}(o,n,(e=t[r](e)).done,e.value)}))}}}function P(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var k=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&f(e,t,r);return k(e,t),e}function S(t){return t&&t.__esModule?t:{default:t}}function D(t,e,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(t):o?o.value:e.get(t)}function T(t,e,r,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(t,r):n?n.value=r:e.set(t,r),r}},601:e=>{"use strict";e.exports=t},944:t=>{"use strict";t.exports=e},254:t=>{"use strict";t.exports=r},806:t=>{"use strict";t.exports=o},843:t=>{"use strict";t.exports=n},153:t=>{"use strict";t.exports=i},242:t=>{"use strict";t.exports=a},570:t=>{"use strict";t.exports=s},37:t=>{"use strict";t.exports=c},121:t=>{"use strict";t.exports=l},594:t=>{"use strict";t.exports=u},918:t=>{"use strict";t.exports=p},470:t=>{"use strict";t.exports=f},290:t=>{"use strict";t.exports=d},351:t=>{"use strict";t.exports=h},830:t=>{"use strict";t.exports=y},815:t=>{"use strict";t.exports=v},303:t=>{"use strict";t.exports=_},325:t=>{"use strict";t.exports=w},764:t=>{"use strict";t.exports=m}},g={};function x(t){var e=g[t];if(void 0!==e)return e.exports;var r=g[t]={exports:{}};return b[t](r,r.exports,x),r.exports}return x.d=(t,e)=>{for(var r in e)x.o(e,r)&&!x.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},x.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),x.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},x(297),x(432)})()));