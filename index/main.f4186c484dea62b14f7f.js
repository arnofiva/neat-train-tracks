/*! For license information please see main.f4186c484dea62b14f7f.js.LICENSE.txt */
define(["esri/Camera","esri/Color","esri/Graphic","esri/Map","esri/core/Accessor","esri/core/accessorSupport/decorators","esri/core/promiseUtils","esri/core/watchUtils","esri/geometry","esri/geometry/Polyline","esri/layers/FeatureLayer","esri/layers/GraphicsLayer","esri/layers/TileLayer","esri/layers/VectorTileLayer","esri/layers/support/LabelClass","esri/renderers","esri/renderers/SimpleRenderer","esri/symbols","esri/symbols/FillSymbol3DLayer","esri/symbols/LabelSymbol3D","esri/symbols/LineSymbol3D","esri/symbols/LineSymbol3DLayer","esri/symbols/PolygonSymbol3D","esri/symbols/TextSymbol3DLayer","esri/views/SceneView","esri/widgets/ElevationProfile","esri/widgets/Widget","esri/widgets/support/widget","simplify"],((e,t,r,o,n,i,a,s,l,c,u,p,d,f,h,y,m,v,b,w,_,g,x,k,P,E,O,T,D)=>(()=>{var S={432:(e,t,r)=>{"use strict";r.r(t)},584:(e,t,r)=>{var o,n;o=[r,t,r(655),r(325),r(843),r(764),r(573),r(433),r(153),r(330),r(604)],void 0===(n=function(e,t,r,o,n,i,a,s,l,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a=r.__importDefault(a);var p=function(e){function t(t){var o=e.call(this,t)||this;return o.scene=s.scene,o.updateProfiles=l.debounce((function(){return r.__awaiter(o,void 0,void 0,(function(){var e,t,o;return r.__generator(this,(function(r){switch(r.label){case 0:return u.tracks2D.removeAll(),u.tracks3D.removeAll(),e=this.tracks.fadedTracks(this.trackProfiles.showNew,this.trackProfiles.section),u.tracks2D.addMany(e.map((function(e){return e.clone()}))),u.tracks3D.addMany(e),o=(t=Promise).all,[4,this.scene.highlightTracks3D(this.trackProfiles.showNew?c.slowColorFaded:c.fastColorFaded)];case 1:return[4,o.apply(t,[[r.sent()]])];case 2:return r.sent(),[2]}}))}))})),o.toggle=document.getElementById("trackSwitchInput"),o}return r.__extends(t,e),t.prototype.postInitialize=function(){var e=this;this.trackProfiles=new a.default({tracks:this.tracks}),this.scene.view.on("click",(function(t){e.trackProfiles.showNew=!e.trackProfiles.showNew,e.updateProfiles()})),this.scene.view.on("key-down",(function(t){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return 0<=(e=Number.parseInt(t.key))&&e<=3?(this.trackProfiles.section=e,[4,this.updateProfiles()]):[3,2];case 1:r.sent(),this.scene.view.goTo(c.sections[e].camera),r.label=2;case 2:return[2]}}))}))})),this.updateProfiles()},t.prototype.render=function(){var e=this.trackProfiles.render();return i.tsx("div",null,i.tsx("div",{class:"wrapper"},i.tsx("div",{class:"grid-container"},i.tsx("div",{class:"column-24 tablet-column-9 phone-column-6"},i.tsx("h1",null,"Zurich - Milano by Train"),i.tsx("div",{class:"column-6 tablet-column-3 phone-column-2"},i.tsx("span",{class:"placeholder"},"Track selector")),i.tsx("div",{class:"column-18 tablet-column-6 phone-pre-2 phone-column-2"},i.tsx("span",{class:"placeholder phone-show"},"Time & Distance"))),i.tsx("div",{class:"column-24 tablet-column-3 phone-column-6"},i.tsx("span",{class:"placeholder tablet-only",style:"height: 50px;"},"Time & Distance (tablet)")),i.tsx("div",{class:"column-6 tablet-column-1 phone-column-1"},i.tsx("span",{class:"placeholder tablet-hide"},"Time & Distance")))),i.tsx("div",{class:"footer"},i.tsx("div",{class:"grid-container"},i.tsx("div",{class:"column-6 tablet-column-6 phone-column-1"},i.tsx("span",{class:"placeholder tablet-hide"},"Legend")),i.tsx("div",{class:"column-18 tablet-column-6 phone-column-2"},i.tsx("span",{class:"placeholder tablet-hide"},"Sections")),i.tsx("div",{class:"column-12 tablet-column-9 phone-column-3"},i.tsx("span",{class:"placeholder tablet-only"},"Sections (Tablet)")),i.tsx("div",{class:"column-12 tablet-column-3 phone-column-3"},i.tsx("span",{class:"placeholder tablet-only"},"Legend (Tablet)")),i.tsx("div",{class:"column-8 tablet-column-4 phone-column-2"},i.tsx("span",{class:"placeholder phone-show"},"Play (Phone)")),i.tsx("div",{class:"column-8 tablet-column-4 phone-column-2"},i.tsx("span",{class:"placeholder phone-show"},"Sections (Phone)")),i.tsx("div",{class:"column-8 tablet-column-4 phone-column-2"},i.tsx("span",{class:"placeholder phone-show"},"Legend (phone)")),i.tsx("div",{class:"column-6 tablet-column-3 phone-column-6"},i.tsx("span",{class:"placeholder phone-hide"},"Play")),i.tsx("div",{class:"column-18 tablet-column-9 phone-column-6"},i.tsx("div",{class:"profiles interactive"},e)))))},r.__decorate([n.property()],t.prototype,"tracks",void 0),r.__decorate([n.property()],t.prototype,"trackProfiles",void 0),r.__decorate([n.property()],t.prototype,"scene",void 0),r.__decorate([n.subclass("app")],t)}(o);t.default=p}.apply(t,o))||(e.exports=n)},433:(e,t,r)=>{var o,n;o=[r,t,r(655),r(843),r(815),r(254),r(604),r(330),r(806)],void 0===(n=function(e,t,r,o,n,i,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scene=void 0,n=r.__importDefault(n);var c=new i({ground:"world-elevation",layers:[a.countries,a.hillshade,a.water,a.tracks2D,a.tracks3D]}),u=new n.default({container:"viewDiv",map:c,camera:s.sections[0].camera,environment:{background:{type:"color",color:[20,20,20]},atmosphereEnabled:!1,starsEnabled:!1},highlightOptions:{fillOpacity:1,haloOpacity:0}});u.ui.remove(["navigation-toggle","compass","zoom"]);var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.view=u,t.clearHighlight=function(){},t}return r.__extends(t,e),t.prototype.highlightTracks3D=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(r){switch(r.label){case 0:return this.clearHighlight(),u.highlightOptions.color=e,[4,u.whenLayerView(a.tracks3D)];case 1:return t=r.sent(),this.clearHighlight=t.highlight(a.tracks3D.graphics.toArray()).remove,[2]}}))}))},r.__decorate([o.property()],t.prototype,"view",void 0),t}(l);t.scene=new p}.apply(t,o))||(e.exports=n)},573:(e,t,r)=>{var o,n;o=[r,t,r(655),r(843),r(303),r(325),r(330),r(433),r(764)],void 0===(n=function(e,t,r,o,n,i,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=r.__importDefault(n),i=r.__importDefault(i);var c=s.scene.view,u={legend:!1,chart:!0,clearButton:!1,settingsButton:!1,sketchButton:!1,selectButton:!1,uniformChartScalingToggle:!1};function p(e,t){var r=new n.default({view:c,profiles:[{type:"input",viewVisualizationEnabled:!0,color:e},{type:"ground",viewVisualizationEnabled:!0,color:t}],visibleElements:u});return r.viewModel.highlightEnabled=!1,r}var d=function(e){function t(t){var r=e.call(this,t)||this;return r.slowEP=p(a.slowColor,a.slowColorFaded),r.fastEP=p(a.fastColor,a.fastColorFaded),r.showNew=!0,r.section=0,r}return r.__extends(t,e),t.prototype.render=function(){var e=this;this.slowEP.profiles.forEach((function(t){return t.viewVisualizationEnabled=!e.showNew})),this.slowEP.input=this.tracks.slowEPInput(this.section),this.fastEP.input=this.tracks.fastEPInput(this.section),this.fastEP.profiles.forEach((function(t){return t.viewVisualizationEnabled=e.showNew}));var t=this.showNew?this.fastEP.render():this.slowEP.render();return l.tsx("div",null,t)},r.__decorate([o.property()],t.prototype,"tracks",void 0),r.__decorate([o.property()],t.prototype,"slowEP",void 0),r.__decorate([o.property()],t.prototype,"fastEP",void 0),r.__decorate([o.property()],t.prototype,"showNew",void 0),r.__decorate([o.property()],t.prototype,"section",void 0),r.__decorate([o.subclass("app.trackprofiles")],t)}(i.default);t.default=d}.apply(t,o))||(e.exports=n)},546:(e,t,r)=>{var o,n;o=[r,t,r(655),r(806),r(843),r(242),r(282),r(351),r(330),r(604),r(617)],void 0===(n=function(e,t,r,o,n,i,a,s,l,c,u){"use strict";function p(e,t,r){void 0===r&&(r=!1);var o=e.geometry.paths[0].concat(t.geometry.paths[0]),n=r?e.clone():e;return n.geometry=new i.Polyline({spatialReference:e.geometry.spatialReference,paths:[o]}),n}function d(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,o,n;return r.__generator(this,(function(d){switch(d.label){case 0:return[4,c.tracksLayer.load()];case 1:return d.sent(),(e=c.tracksLayer.createQuery()).returnGeometry=!0,e.returnZ=!0,e.orderByFields=["PathIndex"],[4,c.tracksLayer.queryFeatures(e)];case 2:return t=d.sent(),o=new a.default,n=[],t.features.forEach((function(e){var t=e.getAttribute("Membership");o.getAttribute("Membership")!==t?(o=new a.default({attributes:r.__assign({},e.attributes),geometry:e.geometry,symbol:new s.LineSymbol3D({symbolLayers:[new s.LineSymbol3DLayer({material:{color:"NEAT"===t?l.fastColorFaded:l.slowColorFaded},size:1})]})}),n.push(o)):p(o,e)})),n.forEach((function(e){var r=e.geometry.paths[0].map((function(e){return{x:e[0],y:e[1],z:e[2]}})),o=u(r,10,!1);console.log("From "+r.length+" to "+o.length),e.geometry=new i.Polyline({spatialReference:t.spatialReference,paths:[o.map((function(e){return[e.x,e.y,e.z]}))]})})),[2,n]}}))}))}Object.defineProperty(t,"__esModule",{value:!0}),o=r.__importDefault(o),a=r.__importDefault(a);var f=function(e){function t(t){return e.call(this,t)||this}var o;return r.__extends(t,e),o=t,t.load=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,t,n,i,a,s,l;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,d()];case 1:return e=r.sent(),t=e.filter((function(e){return"NEAT"!==e.getAttribute("Membership")})),n=e.filter((function(e){return"Old"===e.getAttribute("Membership")})),i=t.reduce((function(e,t){return e?p(e,t,!0):t})),a=e.filter((function(e){return"Old"!==e.getAttribute("Membership")})),s=e.filter((function(e){return"NEAT"===e.getAttribute("Membership")})),l=a.reduce((function(e,t){return e?p(e,t,!0):t})),[2,new o({tracks:e,slowTracks:t,oldTracks:n,slowRoute:i,fastTracks:a,neatTracks:s,fastRoute:l})]}}))}))},t.prototype.fastEPInput=function(e){switch(e){case 1:return this.tracks[1];case 2:return this.tracks[4];case 3:return this.tracks[7];default:return this.fastRoute}},t.prototype.slowEPInput=function(e){switch(e){case 1:return this.tracks[2];case 2:return this.tracks[5];case 3:return this.tracks[8];default:return this.slowRoute}},t.prototype.fadedTracks=function(e,t){return 0===t?e?this.oldTracks:this.neatTracks:[e?this.slowEPInput(t):this.fastEPInput(t)]},r.__decorate([n.property()],t.prototype,"tracks",void 0),r.__decorate([n.property()],t.prototype,"slowTracks",void 0),r.__decorate([n.property()],t.prototype,"oldTracks",void 0),r.__decorate([n.property()],t.prototype,"slowRoute",void 0),r.__decorate([n.property()],t.prototype,"fastTracks",void 0),r.__decorate([n.property()],t.prototype,"neatTracks",void 0),r.__decorate([n.property()],t.prototype,"fastRoute",void 0),o=r.__decorate([n.subclass("tracks")],t)}(o.default);t.default=f}.apply(t,o))||(e.exports=n)},330:(e,t,r)=>{var o,n;o=[r,t,r(655),r(601),r(944)],void 0===(n=function(e,t,r,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sections=t.fastColor=t.fastColorFaded=t.fadedColor=t.slowColorFaded=t.slowColor=void 0,o=r.__importDefault(o),n=r.__importDefault(n),t.slowColor=new n.default("#ff7d00"),t.slowColorFaded=new n.default("#9b5c20"),t.fadedColor=new n.default("#808080"),t.fastColorFaded=new n.default("#007f00"),t.fastColor=new n.default("#00ff00"),t.sections=[{slowTime:262,fastTime:197,camera:new o.default({position:{longitude:7.0337771,latitude:45.12086495,z:159916.61637},heading:48.74,tilt:51.89})},{slowTime:262,fastTime:197,camera:new o.default({position:{longitude:8.4723133,latitude:47.30302987,z:11415.02525},heading:55.49,tilt:27.64})},{slowTime:262,fastTime:197,camera:new o.default({position:{longitude:8.27547022,latitude:46.01335477,z:35950.15826},heading:37.04,tilt:65.7})},{slowTime:262,fastTime:197,camera:new o.default({position:{longitude:8.90117572,latitude:46.24280383,z:5614.57732},heading:156.83,tilt:68.33})}]}.apply(t,o))||(e.exports=n)},604:(e,t,r)=>{var o,n;o=[r,t,r(655),r(37),r(121),r(470),r(594),r(918),r(290),r(351)],void 0===(n=function(e,t,r,o,n,i,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tracks2D=t.tracks3D=t.tracksLayer=t.countries=t.pois=t.water=t.hillshade=void 0,o=r.__importDefault(o),n=r.__importDefault(n),i=r.__importDefault(i),a=r.__importDefault(a),s=r.__importDefault(s),t.hillshade=new a.default({portalItem:{id:"428539ef9cab4017b69d15a40a9ee98b"}}),t.water=new s.default({portalItem:{id:"cd266578c33f4724acb93b9fff57cbb6"}}),t.pois=new o.default({visible:!1,portalItem:{id:"7ad19e912ce84d138ca6544610fa9643"},labelingInfo:[new i.default({labelExpressionInfo:{expression:"$feature.Label"},symbol:new c.LabelSymbol3D({symbolLayers:[new c.TextSymbol3DLayer({material:{color:[255,255,255]},size:12,halo:{color:[30,30,30,.8],size:1.5}})],callout:{type:"line",size:1.5,color:[150,150,150],border:{color:[50,50,50]}},verticalOffset:{screenLength:40,maxWorldLength:100,minWorldLength:20}})})]}),t.countries=new o.default({portalItem:{id:"2b93b06dc0dc4e809d3c8db5cb96ba69"},popupEnabled:!1,definitionExpression:"Country in ('Switzerland')",renderer:new l.SimpleRenderer({symbol:new c.PolygonSymbol3D({symbolLayers:[new c.FillSymbol3DLayer({outline:{color:[180,180,180],size:2.5}})]})})}),t.tracksLayer=new o.default({portalItem:{id:"cec8a4790ccc4727bf54fa6e86a4d26c"}}),t.tracks3D=new n.default({title:"3D Tracks",elevationInfo:{mode:"absolute-height"}}),t.tracks2D=new n.default({title:"2D Tracks",elevationInfo:{mode:"on-the-ground"},opacity:.5})}.apply(t,o))||(e.exports=n)},297:(e,t,r)=>{var o,n;o=[r,t,r(655),r(601),r(918),r(594),r(944),r(481),r(120),r(762),r(470),r(443),r(211),r(758),r(374),r(33),r(254),r(37),r(815),r(121),r(282),r(617),r(303),r(153),r(41),r(584),r(546)],void 0===(n=function(e,t,r,o,n,i,a,s,l,c,u,p,d,f,h,y,m,v,b,w,_,g,x,k,P,E,O){"use strict";if(E=r.__importDefault(E),(O=r.__importDefault(O)).default.load().then((function(e){new E.default({tracks:e,container:"app"})})),!window){var T=new a("#ff7d00"),D=new a("#9b5c20"),S=new a("#808080"),I=new a("#007f00"),L=new a("#00ff00"),M=new o({position:{longitude:7.0337771,latitude:45.12086495,z:159916.61637},heading:48.74,tilt:51.89}),z=new i({portalItem:{id:"428539ef9cab4017b69d15a40a9ee98b"}}),j=new n({portalItem:{id:"cd266578c33f4724acb93b9fff57cbb6"}}),C=(new v({visible:!1,portalItem:{id:"7ad19e912ce84d138ca6544610fa9643"},labelingInfo:[new u({labelExpressionInfo:{expression:"$feature.Label"},symbol:new c({symbolLayers:[new l({material:{color:[255,255,255]},size:12,halo:{color:[30,30,30,.8],size:1.5}})],callout:{type:"line",size:1.5,color:[150,150,150],border:{color:[50,50,50]}},verticalOffset:{screenLength:40,maxWorldLength:100,minWorldLength:20}})})]}),new v({portalItem:{id:"2b93b06dc0dc4e809d3c8db5cb96ba69"},popupEnabled:!1,definitionExpression:"Country in ('Switzerland')",renderer:new y({symbol:new f({symbolLayers:[new d({outline:{color:[180,180,180],size:2.5}})]})})})),A=new v({portalItem:{id:"cec8a4790ccc4727bf54fa6e86a4d26c"}}),R=new w({title:"3D Tracks",elevationInfo:{mode:"absolute-height"}}),B=new w({title:"2D Tracks",elevationInfo:{mode:"on-the-ground"},opacity:.5}),F=new b({container:"viewDiv",map:new m({basemap:"topo-vector",ground:"world-elevation",layers:[C,z,j,B,R]}),camera:M,environment:{background:{type:"color",color:[20,20,20]},atmosphereEnabled:!1,starsEnabled:!1},highlightOptions:{color:S,fillOpacity:1,haloOpacity:0}});F.ui.add("trackSwitch","top-right"),F.ui.add("segments","bottom-left"),F.when().then((function(){return r.__awaiter(void 0,void 0,void 0,(function(){function e(e,t,r){void 0===r&&(r=!1);var o=e.geometry.paths[0].concat(t.geometry.paths[0]),n=r?e.clone():e;return n.geometry=new s({spatialReference:e.geometry.spatialReference,paths:[o]}),n}var t,n,i,a,l,c,u,d,f,y,m,v,b,w,E,O,S,z,j,C,N,V,G,W;return r.__generator(this,(function(q){switch(q.label){case 0:return F.popup.defaultPopupTemplateEnabled=!0,F.popup.autoOpenEnabled=!0,F.popup.dockEnabled=!0,F.popup.dockOptions={position:"bottom-left"},[4,A.load()];case 1:return q.sent(),(t=A.createQuery()).returnGeometry=!0,t.returnZ=!0,t.orderByFields=["PathIndex"],[4,A.queryFeatures(t)];case 2:return n=q.sent(),i=new _,a=[],n.features.forEach((function(t){var o=t.getAttribute("Membership");i.getAttribute("Membership")!==o?(i=new _({attributes:r.__assign({},t.attributes),geometry:t.geometry,symbol:new h({symbolLayers:[new p({material:{color:"NEAT"===o?I:D},size:1})]})}),a.push(i)):e(i,t)})),a.forEach((function(e){var t=e.geometry.paths[0].map((function(e){return{x:e[0],y:e[1],z:e[2]}})),r=g(t,10,!1);console.log("From "+t.length+" to "+r.length),e.geometry=new s({spatialReference:n.spatialReference,paths:[r.map((function(e){return[e.x,e.y,e.z]}))]})})),l=a.filter((function(e){return"NEAT"!==e.getAttribute("Membership")})),c=a.filter((function(e){return"Old"===e.getAttribute("Membership")})),u=l.reduce((function(t,r){return t?e(t,r,!0):r})),d=a.filter((function(e){return"Old"!==e.getAttribute("Membership")})),f=a.filter((function(e){return"NEAT"===e.getAttribute("Membership")})),y=d.reduce((function(t,r){return t?e(t,r,!0):r})),(v=new x({view:F,container:"leftProfile",profiles:[{type:"input",viewVisualizationEnabled:!0,color:T},{type:"ground",viewVisualizationEnabled:!0,color:D}],visibleElements:m={legend:!1,chart:!0,clearButton:!1,settingsButton:!1,sketchButton:!1,selectButton:!1,uniformChartScalingToggle:!1},input:u})).viewModel.highlightEnabled=!1,(b=new x({container:"rightProfile",view:F,profiles:[{type:"input",viewVisualizationEnabled:!1,color:L},{type:"ground",viewVisualizationEnabled:!1,color:I}],visibleElements:m,input:y})).viewModel.highlightEnabled=!1,v.viewModel.watch("hoveredChartPosition",(function(){b.viewModel.hoveredChartPosition=v.viewModel.hoveredChartPosition})),b.viewModel.watch("hoveredChartPosition",(function(){v.viewModel.hoveredChartPosition=b.viewModel.hoveredChartPosition})),w=function(){},E=function(e){switch(e){case 1:return a[4];case 2:return a[7];case 3:return a[1];default:return y}},O=function(e){switch(e){case 1:return a[5];case 2:return a[8];case 3:return a[2];default:return u}},S=function(e,t){return 0===t?e?c:f:[e?O(t):E(t)]},z=0,j=!0,C=k.debounce((function(){return r.__awaiter(void 0,void 0,void 0,(function(){var e,t;return r.__generator(this,(function(r){switch(r.label){case 0:return w(),B.removeAll(),R.removeAll(),e=S(j,z),B.addMany(e.map((function(e){return e.clone()}))),R.addMany(e),v.profiles.forEach((function(e){return e.viewVisualizationEnabled=!j})),v.input=O(z),b.input=E(z),b.profiles.forEach((function(e){return e.viewVisualizationEnabled=j})),F.highlightOptions.color=j?D:I,[4,F.whenLayerView(R)];case 1:return t=r.sent(),w=t.highlight(e).remove,[4,P.whenEqualOnce(v.viewModel,"progress",1)];case 2:return r.sent(),[4,P.whenEqualOnce(b.viewModel,"progress",1)];case 3:return r.sent(),[2]}}))}))})),(N=document.getElementById("trackSwitchInput")).onchange=function(){j=N.checked,C()},C(),V=new o({position:{longitude:8.4723133,latitude:47.30302987,z:11415.02525},heading:55.49,tilt:27.64}),G=new o({position:{longitude:8.27547022,latitude:46.01335477,z:35950.15826},heading:37.04,tilt:65.7}),W=new o({position:{longitude:8.90117572,latitude:46.24280383,z:5614.57732},heading:156.83,tilt:68.33}),document.getElementById("allButton").onclick=function(){return r.__awaiter(void 0,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return z=0,[4,C()];case 1:return e.sent(),F.goTo(M),[2]}}))}))},document.getElementById("gotthardButton").onclick=function(){return r.__awaiter(void 0,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return z=1,[4,C()];case 1:return e.sent(),F.goTo(G),[2]}}))}))},document.getElementById("ceneriButton").onclick=function(){return r.__awaiter(void 0,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return z=2,[4,C()];case 1:return e.sent(),F.goTo(W),[2]}}))}))},document.getElementById("zimmerbergButton").onclick=function(){return r.__awaiter(void 0,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return z=3,[4,C()];case 1:return e.sent(),F.goTo(V),[2]}}))}))},[2]}}))}))}))}}.apply(t,o))||(e.exports=n)},655:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__extends:()=>n,__assign:()=>i,__rest:()=>a,__decorate:()=>s,__param:()=>l,__metadata:()=>c,__awaiter:()=>u,__generator:()=>p,__createBinding:()=>d,__exportStar:()=>f,__values:()=>h,__read:()=>y,__spread:()=>m,__spreadArrays:()=>v,__await:()=>b,__asyncGenerator:()=>w,__asyncDelegator:()=>_,__asyncValues:()=>g,__makeTemplateObject:()=>x,__importStar:()=>P,__importDefault:()=>E,__classPrivateFieldGet:()=>O,__classPrivateFieldSet:()=>T});var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function n(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]])}return r}function s(e,t,r,o){var n,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function l(e,t){return function(r,o){t(r,o,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,o){return new(r||(r=Promise))((function(n,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((o=o.apply(e,t||[])).next())}))}function p(e,t){var r,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,o&&(n=2&i[0]?o.return:i[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((n=(n=a.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var d=Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]};function f(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||d(t,e,r)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],o=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,n++)o[n]=i[a];return o}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function w(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){n[e]&&(o[e]=function(t){return new Promise((function(r,o){i.push([e,t,r,o])>1||s(e,t)}))})}function s(e,t){try{(r=n[e](t)).value instanceof b?Promise.resolve(r.value.v).then(l,c):u(i[0][2],r)}catch(e){u(i[0][3],e)}var r}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function _(e){var t,r;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,n){t[o]=e[o]?function(t){return(r=!r)?{value:b(e[o](t)),done:"return"===o}:n?n(t):t}:n}}function g(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=h(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(r){t[r]=e[r]&&function(t){return new Promise((function(o,n){!function(e,t,r,o){Promise.resolve(o).then((function(t){e({value:t,done:r})}),t)}(o,n,(t=e[r](t)).done,t.value)}))}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var k=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&d(t,e,r);return k(t,e),t}function E(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},601:t=>{"use strict";t.exports=e},944:e=>{"use strict";e.exports=t},282:e=>{"use strict";e.exports=r},254:e=>{"use strict";e.exports=o},806:e=>{"use strict";e.exports=n},843:e=>{"use strict";e.exports=i},153:e=>{"use strict";e.exports=a},41:e=>{"use strict";e.exports=s},242:e=>{"use strict";e.exports=l},481:e=>{"use strict";e.exports=c},37:e=>{"use strict";e.exports=u},121:e=>{"use strict";e.exports=p},594:e=>{"use strict";e.exports=d},918:e=>{"use strict";e.exports=f},470:e=>{"use strict";e.exports=h},290:e=>{"use strict";e.exports=y},33:e=>{"use strict";e.exports=m},351:e=>{"use strict";e.exports=v},211:e=>{"use strict";e.exports=b},762:e=>{"use strict";e.exports=w},374:e=>{"use strict";e.exports=_},443:e=>{"use strict";e.exports=g},758:e=>{"use strict";e.exports=x},120:e=>{"use strict";e.exports=k},815:e=>{"use strict";e.exports=P},303:e=>{"use strict";e.exports=E},325:e=>{"use strict";e.exports=O},764:e=>{"use strict";e.exports=T},617:e=>{"use strict";e.exports=D}},I={};function L(e){var t=I[e];if(void 0!==t)return t.exports;var r=I[e]={exports:{}};return S[e](r,r.exports,L),r.exports}return L.d=(e,t)=>{for(var r in t)L.o(t,r)&&!L.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},L.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),L.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},L(297),L(432)})()));